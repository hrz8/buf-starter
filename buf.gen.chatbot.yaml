version: v2
managed:
  enabled: true
plugins:
  # TypeScript types for chatbot module configs (frontend)
  - remote: buf.build/bufbuild/es:v2.6.3
    out: frontend/gen
    opt:
      - target=ts
      - import_extension=js
    include_imports: true
  # TypeScript types for chatbot module configs (inference)
  - remote: buf.build/bufbuild/es:v2.6.3
    out: inference/gen
    opt:
      - target=ts
      - import_extension=js
    include_imports: true
  # JSON Schema generation for schema-driven forms
  - remote: buf.build/bufbuild/protoschema-jsonschema:v0.5.2
    out: frontend/gen/jsonschema
    opt:
      - target=json-strict-bundle
inputs:
  - directory: api/proto
    paths:
      - api/proto/chatbot/modules
      - api/proto/chatbot/nodes
